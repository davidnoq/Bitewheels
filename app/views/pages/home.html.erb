<% content_for :title, "Home Page" %>

<!-- Flash Messages -->
<% if flash[:notice] %>
  <div class="alert alert-success alert-dismissible fade show mx-auto mt-3" style="max-width: 80%;" role="alert">
    <%= flash[:notice] %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% elsif flash[:alert] %>
  <div class="alert alert-danger alert-dismissible fade show mx-auto mt-3" style="max-width: 80%;" role="alert">
    <%= flash[:alert] %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% end %>

<!-- Hero Section -->
<div class="container-fluid  text-black text-center py-5">
  <h1 class="display-4 fw-bold">Organize Your Events</h1>
  <p class="lead mt-3">Allow food trucks to apply, choose attendees, and manage your event with ease.</p>
  <% if current_user&.user? %>
    <div class="mt-4">
      <%= button_to "Become an Event Organizer", promote_to_event_organizer_path, method: :post, class: "btn btn-primary btn-lg me-3" %>
      <%= button_to "Become a Food Truck Owner", promote_to_food_truck_owner_path, method: :post, class: "btn btn-secondary btn-lg" %>
    </div>
  <% end %>
</div>

<!-- New User Sign-Up Section -->
<% unless current_user %>
  <div class="container text-center my-5">
    <h2 class="fw-bold">Join Us Today!</h2>
    <p class="text-muted">Sign up to start organizing events, connect with food trucks, and make your event a success.</p>
    <div class="mt-3">
      <%= link_to "Sign Up", new_user_registration_path, class: "btn btn-primary btn-lg me-3" %>
      <%= link_to "Log In", new_user_session_path, class: "btn btn-secondary btn-lg" %>
    </div>
  </div>
<% end %>

<!-- User Greeting Section -->
<% if current_user %>

  <div class="container my-5">
    <div class="card shadow-lg mx-auto" style="max-width: 75%;">
      <div class="card-body text-center">
        <h2 class="card-title">Welcome, <%= current_user.first_name %>!</h2>
        <p class="card-text"><strong>Role:</strong> <%= current_user.role.capitalize %></p>
        <% if current_user.foodtruckowner? %>
          <p class="text-muted">Ready to apply for events? Explore opportunities and get started now.</p>
          <%= link_to "View Dashboard", food_trucks_path, class: "btn btn-primary" %>
        <% else %>
          <p class="text-muted">Discover events and manage your credits with ease.</p>
        <% end %>
        
      </div>
    </div>
  </div>
  
<% end %>
<hr>


<!-- Call-to-Action Section -->
<div class="text-center py-5">
  <p class="lead">Looking for events? Browse all available events now.</p>
  <%= link_to "View All Events", events_path, class: "btn btn-outline-primary btn-lg" %>
</div>
